---
title: "æ ‡ç­¾ç®¡ç†"
weight: 1
bookToc: true
---

# æ ‡ç­¾ç®¡ç†

Git æ ‡ç­¾ï¼ˆTagsï¼‰æ˜¯æŒ‡å‘ç‰¹å®šæäº¤çš„å¼•ç”¨ï¼Œé€šå¸¸ç”¨äºæ ‡è®°é¡¹ç›®çš„å‘å¸ƒç‰ˆæœ¬ã€‚ä¸åˆ†æ”¯ä¸åŒï¼Œæ ‡ç­¾åˆ›å»ºåä¸ä¼šç§»åŠ¨ï¼Œå®ƒæ°¸è¿œæŒ‡å‘åŒä¸€ä¸ªæäº¤ã€‚

## ä»€ä¹ˆæ˜¯æ ‡ç­¾

æ ‡ç­¾æ˜¯ç‰ˆæœ¬åº“çš„ä¸€ä¸ªå¿«ç…§ï¼Œç”¨äºæ ‡è®°æŸä¸ªç‰¹å®šçš„å†å²æ—¶åˆ»ï¼Œæœ€å¸¸è§çš„ç”¨é€”æ˜¯æ ‡è®°è½¯ä»¶å‘å¸ƒç‰ˆæœ¬ã€‚

### æ ‡ç­¾çš„ç‰¹ç‚¹

- **ä¸å¯å˜æ€§**ï¼šæ ‡ç­¾åˆ›å»ºåæŒ‡å‘çš„æäº¤ä¸ä¼šæ”¹å˜
- **è¯­ä¹‰åŒ–ç‰ˆæœ¬**ï¼šé€šå¸¸éµå¾ª `v1.0.0`ã€`v2.1.3` ç­‰å‘½åè§„èŒƒ
- **æ˜“äºè¯†åˆ«**ï¼šæ¯”æäº¤å“ˆå¸Œæ›´å®¹æ˜“è®°å¿†å’Œè¯†åˆ«
- **å‘å¸ƒç®¡ç†**ï¼šGitHub/GitLab ç­‰å¹³å°å¯ä»¥åŸºäºæ ‡ç­¾åˆ›å»ºå‘å¸ƒï¼ˆReleaseï¼‰

### ä½¿ç”¨åœºæ™¯

```bash
# å…¸å‹çš„é¡¹ç›®ç‰ˆæœ¬æ ‡ç­¾
v1.0.0      # é¦–æ¬¡æ­£å¼å‘å¸ƒ
v1.1.0      # æ·»åŠ æ–°åŠŸèƒ½
v1.1.1      # ä¿®å¤ bug
v2.0.0      # é‡å¤§ç‰ˆæœ¬æ›´æ–°
```

## æ ‡ç­¾ç±»å‹

Git æ”¯æŒä¸¤ç§ç±»å‹çš„æ ‡ç­¾ï¼š**è½»é‡æ ‡ç­¾**ï¼ˆlightweightï¼‰å’Œ**é™„æ³¨æ ‡ç­¾**ï¼ˆannotatedï¼‰ã€‚

### è½»é‡æ ‡ç­¾

è½»é‡æ ‡ç­¾åªæ˜¯æŒ‡å‘æŸä¸ªæäº¤çš„å¼•ç”¨ï¼Œç±»ä¼¼äºä¸€ä¸ªä¸ä¼šç§»åŠ¨çš„åˆ†æ”¯ã€‚

```bash
# åˆ›å»ºè½»é‡æ ‡ç­¾
git tag v1.0.0

# ä¸ºç‰¹å®šæäº¤åˆ›å»ºè½»é‡æ ‡ç­¾
git tag v0.9.0 abc1234
```

**ç‰¹ç‚¹**ï¼š
- âœ… åˆ›å»ºç®€å•å¿«é€Ÿ
- âœ… ä¸å­˜å‚¨é¢å¤–ä¿¡æ¯
- âŒ ç¼ºå°‘åˆ›å»ºè€…ã€æ—¥æœŸã€è¯´æ˜ç­‰å…ƒæ•°æ®
- âŒ ä¸æ¨èç”¨äºæ­£å¼å‘å¸ƒ

### é™„æ³¨æ ‡ç­¾

é™„æ³¨æ ‡ç­¾æ˜¯å­˜å‚¨åœ¨ Git æ•°æ®åº“ä¸­çš„å®Œæ•´å¯¹è±¡ï¼ŒåŒ…å«åˆ›å»ºè€…ã€æ—¥æœŸã€è¯´æ˜ç­‰ä¿¡æ¯ï¼Œå¯ä»¥è¢«ç­¾åå’ŒéªŒè¯ã€‚

```bash
# åˆ›å»ºé™„æ³¨æ ‡ç­¾
git tag -a v1.0.0 -m "Release version 1.0.0"

# åˆ›å»ºå¸¦è¯¦ç»†è¯´æ˜çš„é™„æ³¨æ ‡ç­¾
git tag -a v2.0.0 -m "Major release 2.0.0

New Features:
- Feature A
- Feature B

Bug Fixes:
- Fix issue #123"
```

**ç‰¹ç‚¹**ï¼š
- âœ… åŒ…å«å®Œæ•´çš„å…ƒæ•°æ®
- âœ… å¯ä»¥ç­¾åéªŒè¯ï¼ˆGPGï¼‰
- âœ… æ¨èç”¨äºæ­£å¼å‘å¸ƒ
- âŒ éœ€è¦æ·»åŠ è¯´æ˜ä¿¡æ¯

{{< hint info >}}
**æœ€ä½³å®è·µ**ï¼šå¯¹äºæ­£å¼çš„ç‰ˆæœ¬å‘å¸ƒï¼Œå§‹ç»ˆä½¿ç”¨é™„æ³¨æ ‡ç­¾ã€‚åªåœ¨ä¸´æ—¶æˆ–ç§æœ‰ä½¿ç”¨æ—¶ä½¿ç”¨è½»é‡æ ‡ç­¾ã€‚
{{< /hint >}}

### å¯¹æ¯”ä¸¤ç§æ ‡ç­¾

| ç‰¹æ€§ | è½»é‡æ ‡ç­¾ | é™„æ³¨æ ‡ç­¾ |
|------|---------|---------|
| å­˜å‚¨å†…å®¹ | ä»…æäº¤å¼•ç”¨ | å®Œæ•´å¯¹è±¡ï¼ˆåŒ…å«å…ƒæ•°æ®ï¼‰ |
| åˆ›å»ºè€…ä¿¡æ¯ | âŒ | âœ… |
| åˆ›å»ºæ—¶é—´ | âŒ | âœ… |
| è¯´æ˜ä¿¡æ¯ | âŒ | âœ… |
| GPG ç­¾å | âŒ | âœ… |
| é€‚ç”¨åœºæ™¯ | ä¸´æ—¶æ ‡è®° | æ­£å¼å‘å¸ƒ |

## åˆ›å»ºæ ‡ç­¾

### ä¸ºå½“å‰æäº¤åˆ›å»ºæ ‡ç­¾

```bash
# åˆ›å»ºè½»é‡æ ‡ç­¾
git tag v1.0.0

# åˆ›å»ºé™„æ³¨æ ‡ç­¾
git tag -a v1.0.0 -m "Release version 1.0.0"

# äº¤äº’å¼åˆ›å»ºï¼ˆæ‰“å¼€ç¼–è¾‘å™¨è¾“å…¥è¯¦ç»†è¯´æ˜ï¼‰
git tag -a v1.0.0
```

### ä¸ºå†å²æäº¤åˆ›å»ºæ ‡ç­¾

```bash
# æŸ¥çœ‹æäº¤å†å²
git log --oneline

# ä¸ºç‰¹å®šæäº¤åˆ›å»ºæ ‡ç­¾
git tag -a v0.9.0 9fceb02 -m "Beta release"
```

### åˆ›å»ºç­¾åæ ‡ç­¾

ä½¿ç”¨ GPG ç­¾åæ ‡ç­¾ï¼Œå¢å¼ºå®‰å…¨æ€§ï¼š

```bash
# åˆ›å»º GPG ç­¾åæ ‡ç­¾
git tag -s v1.0.0 -m "Signed release v1.0.0"

# éªŒè¯ç­¾åæ ‡ç­¾
git tag -v v1.0.0
```

{{< hint warning >}}
**æ³¨æ„**ï¼šåˆ›å»ºç­¾åæ ‡ç­¾éœ€è¦å…ˆé…ç½® GPG å¯†é’¥ã€‚
{{< /hint >}}

## æŸ¥çœ‹æ ‡ç­¾

### åˆ—å‡ºæ ‡ç­¾

```bash
# åˆ—å‡ºæ‰€æœ‰æ ‡ç­¾
git tag

# åˆ—å‡ºæ‰€æœ‰æ ‡ç­¾ï¼ˆæŒ‰å­—æ¯é¡ºåºï¼‰
git tag -l

# ä½¿ç”¨é€šé…ç¬¦è¿‡æ»¤
git tag -l "v1.*"
# è¾“å‡ºï¼š
# v1.0.0
# v1.0.1
# v1.1.0
```

### æŸ¥çœ‹æ ‡ç­¾è¯¦æƒ…

```bash
# æŸ¥çœ‹è½»é‡æ ‡ç­¾ï¼ˆåªæ˜¾ç¤ºæäº¤ä¿¡æ¯ï¼‰
git show v1.0.0

# æŸ¥çœ‹é™„æ³¨æ ‡ç­¾ï¼ˆæ˜¾ç¤ºæ ‡ç­¾ä¿¡æ¯å’Œæäº¤ä¿¡æ¯ï¼‰
git show v2.0.0
```

é™„æ³¨æ ‡ç­¾ä¼šæ˜¾ç¤ºå®Œæ•´ä¿¡æ¯ï¼š

```
tag v2.0.0
Tagger: Your Name <your.email@example.com>
Date:   Mon Jan 15 10:00:00 2024 +0800

Release version 2.0.0

commit 1234567890abcdef...
Author: Your Name <your.email@example.com>
Date:   Mon Jan 15 09:30:00 2024 +0800

    Final commit before v2.0.0
```

### æŸ¥çœ‹æ ‡ç­¾å¯¹åº”çš„æäº¤

```bash
# æŸ¥çœ‹æ ‡ç­¾æŒ‡å‘çš„æäº¤å“ˆå¸Œ
git rev-parse v1.0.0

# æŸ¥çœ‹å¤šä¸ªæ ‡ç­¾
git show-ref --tags
```

## åˆ é™¤æ ‡ç­¾

### åˆ é™¤æœ¬åœ°æ ‡ç­¾

```bash
# åˆ é™¤æœ¬åœ°æ ‡ç­¾
git tag -d v1.0.0

# åˆ é™¤å¤šä¸ªæ ‡ç­¾
git tag -d v1.0.0 v1.0.1 v1.0.2
```

### åˆ é™¤è¿œç¨‹æ ‡ç­¾

```bash
# æ–¹æ³• 1ï¼šä½¿ç”¨ --delete
git push origin --delete v1.0.0

# æ–¹æ³• 2ï¼šæ¨é€ç©ºå¼•ç”¨
git push origin :refs/tags/v1.0.0

# åˆ é™¤å¤šä¸ªè¿œç¨‹æ ‡ç­¾
git push origin --delete v1.0.0 v1.0.1
```

{{< hint warning >}}
**è­¦å‘Š**ï¼šåˆ é™¤å·²å‘å¸ƒçš„æ ‡ç­¾è¦è°¨æ…ï¼Œå¯èƒ½ä¼šå½±å“å…¶ä»–å¼€å‘è€…å’Œ CI/CD æµç¨‹ã€‚
{{< /hint >}}

## æ¨é€æ ‡ç­¾

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`git push` ä¸ä¼šæ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“ï¼Œéœ€è¦æ˜¾å¼æ¨é€ã€‚

### æ¨é€å•ä¸ªæ ‡ç­¾

```bash
# æ¨é€æŒ‡å®šæ ‡ç­¾
git push origin v1.0.0

# æ¨é€åˆ°æ‰€æœ‰è¿œç¨‹ä»“åº“
git push --all v1.0.0
```

### æ¨é€æ‰€æœ‰æ ‡ç­¾

```bash
# æ¨é€æ‰€æœ‰æœ¬åœ°æ ‡ç­¾
git push origin --tags

# åªæ¨é€é™„æ³¨æ ‡ç­¾
git push origin --follow-tags
```

{{< hint info >}}
**æ¨è**ï¼šä½¿ç”¨ `--follow-tags` åªæ¨é€é™„æ³¨æ ‡ç­¾ï¼Œé¿å…æ¨é€ä¸´æ—¶çš„è½»é‡æ ‡ç­¾ã€‚

å¯ä»¥è®¾ç½®ä¸ºé»˜è®¤è¡Œä¸ºï¼š
```bash
git config --global push.followTags true
```
{{< /hint >}}

### åŒæ—¶æ¨é€ä»£ç å’Œæ ‡ç­¾

```bash
# æ¨é€å½“å‰åˆ†æ”¯å’Œæ ‡ç­¾
git push origin main --tags

# æ¨é€æ‰€æœ‰åˆ†æ”¯å’Œæ ‡ç­¾
git push origin --all --tags
```

## æ£€å‡ºæ ‡ç­¾

æ ‡ç­¾ä¸èƒ½ç›´æ¥æ£€å‡ºä¿®æ”¹ï¼Œå› ä¸ºæ ‡ç­¾æ˜¯ä¸å¯å˜çš„ã€‚å¦‚æœè¦åŸºäºæ ‡ç­¾è¿›è¡Œå¼€å‘ï¼Œéœ€è¦åˆ›å»ºæ–°åˆ†æ”¯ã€‚

### æŸ¥çœ‹æ ‡ç­¾å†…å®¹ï¼ˆåªè¯»ï¼‰

```bash
# åˆ‡æ¢åˆ°æ ‡ç­¾ï¼ˆåˆ†ç¦»å¤´æŒ‡é’ˆçŠ¶æ€ï¼‰
git checkout v1.0.0

# æ­¤æ—¶å¤„äº"åˆ†ç¦» HEAD"çŠ¶æ€ï¼Œå¯ä»¥æŸ¥çœ‹ä»£ç ä½†ä¸å»ºè®®ä¿®æ”¹
```

{{< hint warning >}}
**åˆ†ç¦» HEAD çŠ¶æ€**ï¼šåœ¨è¿™ç§çŠ¶æ€ä¸‹çš„æäº¤ä¸å±äºä»»ä½•åˆ†æ”¯ï¼Œåˆ‡æ¢åˆ†æ”¯åå¯èƒ½ä¸¢å¤±ã€‚
{{< /hint >}}

### åŸºäºæ ‡ç­¾åˆ›å»ºåˆ†æ”¯

```bash
# ä»æ ‡ç­¾åˆ›å»ºæ–°åˆ†æ”¯
git checkout -b hotfix-1.0.1 v1.0.0

# ç°åœ¨å¯ä»¥å®‰å…¨åœ°è¿›è¡Œä¿®æ”¹
# ä¿®å¤ bug åå¯ä»¥åˆ›å»ºæ–°æ ‡ç­¾
git tag -a v1.0.1 -m "Hotfix release"
```

## ç‰ˆæœ¬å‘å¸ƒå®æˆ˜

### è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆSemantic Versioningï¼‰

éµå¾ª `MAJOR.MINOR.PATCH` æ ¼å¼ï¼š

```
v1.2.3
â”‚ â”‚ â”‚
â”‚ â”‚ â””â”€ PATCHï¼šå‘ä¸‹å…¼å®¹çš„ bug ä¿®å¤
â”‚ â””â”€â”€â”€ MINORï¼šå‘ä¸‹å…¼å®¹çš„æ–°åŠŸèƒ½
â””â”€â”€â”€â”€â”€ MAJORï¼šä¸å‘ä¸‹å…¼å®¹çš„é‡å¤§å˜æ›´
```

**ç¤ºä¾‹**ï¼š
```bash
v1.0.0  # é¦–æ¬¡æ­£å¼å‘å¸ƒ
v1.0.1  # ä¿®å¤ bug
v1.1.0  # æ·»åŠ æ–°åŠŸèƒ½
v2.0.0  # é‡å¤§å˜æ›´ï¼Œå¯èƒ½ä¸å…¼å®¹
```

### å®Œæ•´å‘å¸ƒæµç¨‹

```bash
# 1. ç¡®ä¿åœ¨æ­£ç¡®çš„åˆ†æ”¯
git checkout main

# 2. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# 3. è¿è¡Œæµ‹è¯•
npm test  # æˆ–å…¶ä»–æµ‹è¯•å‘½ä»¤

# 4. æ›´æ–°ç‰ˆæœ¬å·ï¼ˆå¦‚ package.jsonï¼‰
vim package.json

# 5. æäº¤ç‰ˆæœ¬å·å˜æ›´
git add package.json
git commit -m "chore: bump version to 1.2.0"

# 6. åˆ›å»ºæ ‡ç­¾
git tag -a v1.2.0 -m "Release version 1.2.0

Features:
- Add user authentication
- Improve performance

Bug Fixes:
- Fix login issue
- Fix memory leak"

# 7. æ¨é€ä»£ç å’Œæ ‡ç­¾
git push origin main
git push origin v1.2.0

# 8. åœ¨ GitHub/GitLab åˆ›å»º Releaseï¼ˆå¯é€‰ï¼‰
```

### ä½¿ç”¨è„šæœ¬è‡ªåŠ¨åŒ–

åˆ›å»ºå‘å¸ƒè„šæœ¬ `scripts/release.sh`ï¼š

```bash
#!/bin/bash

# è·å–ç‰ˆæœ¬å·å‚æ•°
VERSION=$1

if [ -z "$VERSION" ]; then
    echo "Usage: ./release.sh <version>"
    echo "Example: ./release.sh 1.2.0"
    exit 1
fi

# ç¡®è®¤å‘å¸ƒ
echo "Creating release v$VERSION"
read -p "Continue? (y/n) " -n 1 -r
echo
if [[ ! $REPLY =~ ^[Yy]$ ]]; then
    exit 1
fi

# è¿è¡Œæµ‹è¯•
echo "Running tests..."
npm test || exit 1

# æ›´æ–°ç‰ˆæœ¬å·
echo "Updating version..."
npm version $VERSION --no-git-tag-version

# æäº¤å˜æ›´
git add package.json package-lock.json
git commit -m "chore: bump version to $VERSION"

# åˆ›å»ºæ ‡ç­¾
git tag -a "v$VERSION" -m "Release version $VERSION"

# æ¨é€
git push origin main
git push origin "v$VERSION"

echo "âœ… Release v$VERSION created successfully!"
```

ä½¿ç”¨æ–¹å¼ï¼š

```bash
chmod +x scripts/release.sh
./scripts/release.sh 1.2.0
```

## GitHub Release

åœ¨ GitHub ä¸Šï¼Œå¯ä»¥åŸºäºæ ‡ç­¾åˆ›å»ºæ­£å¼çš„ Releaseã€‚

### é€šè¿‡ç½‘é¡µåˆ›å»º

1. è¿›å…¥ä»“åº“é¡µé¢
2. ç‚¹å‡»ã€ŒReleasesã€â†’ã€ŒCreate a new releaseã€
3. é€‰æ‹©æ ‡ç­¾æˆ–åˆ›å»ºæ–°æ ‡ç­¾
4. å¡«å†™å‘å¸ƒè¯´æ˜
5. ä¸Šä¼ é™„ä»¶ï¼ˆå¯é€‰ï¼‰
6. å‘å¸ƒ

### ä½¿ç”¨ GitHub CLI

```bash
# å®‰è£… ghï¼ˆGitHub CLIï¼‰
# macOS: brew install gh
# Ubuntu: apt install gh

# ç™»å½•
gh auth login

# åˆ›å»º release
gh release create v1.2.0 \
  --title "Version 1.2.0" \
  --notes "Release notes here"

# ä»æ–‡ä»¶è¯»å–å‘å¸ƒè¯´æ˜
gh release create v1.2.0 \
  --title "Version 1.2.0" \
  --notes-file CHANGELOG.md

# ä¸Šä¼ é™„ä»¶
gh release create v1.2.0 \
  --title "Version 1.2.0" \
  --notes "Release notes" \
  dist/*.zip
```

## å®æˆ˜åœºæ™¯

### åœºæ™¯ 1ï¼šå›é€€åˆ°ç‰¹å®šç‰ˆæœ¬

```bash
# ç”¨æˆ·æŠ¥å‘Š v1.2.0 æœ‰é—®é¢˜ï¼Œéœ€è¦å›é€€åˆ° v1.1.0

# 1. æŸ¥çœ‹æ ‡ç­¾
git tag

# 2. åˆ›å»ºå›é€€åˆ†æ”¯
git checkout -b rollback-to-v1.1.0 v1.1.0

# 3. æ¨é€å›é€€åˆ†æ”¯
git push origin rollback-to-v1.1.0

# 4. åˆ›å»ºçƒ­ä¿®å¤æ ‡ç­¾
git tag -a v1.2.1 -m "Rollback to v1.1.0 due to critical bug"
git push origin v1.2.1
```

### åœºæ™¯ 2ï¼šç»´æŠ¤å¤šä¸ªç‰ˆæœ¬

```bash
# åŒæ—¶ç»´æŠ¤ v1.x å’Œ v2.x

# åŸºäº v1.5.0 åˆ›å»ºç»´æŠ¤åˆ†æ”¯
git checkout -b maintenance-v1 v1.5.0

# ä¿®å¤ bug
git commit -m "fix: critical bug in v1"

# åˆ›å»ºæ–°çš„ v1 æ ‡ç­¾
git tag -a v1.5.1 -m "Bug fix release"
git push origin maintenance-v1 --tags

# v2 ç»§ç»­åœ¨ main åˆ†æ”¯å¼€å‘
git checkout main
git tag -a v2.1.0 -m "New features"
git push origin main --tags
```

### åœºæ™¯ 3ï¼šæŸ¥æ‰¾åŒ…å«ç‰¹å®šä¿®å¤çš„ç‰ˆæœ¬

```bash
# æŸ¥æ‰¾å“ªäº›æ ‡ç­¾åŒ…å«ç‰¹å®šæäº¤
git tag --contains abc1234

# æŸ¥æ‰¾æŸä¸ªæ ‡ç­¾çš„ä¸‹ä¸€ä¸ªæ ‡ç­¾
git describe --tags abc1234

# æŸ¥çœ‹ä¸¤ä¸ªæ ‡ç­¾ä¹‹é—´çš„å˜æ›´
git log v1.0.0..v1.1.0 --oneline
```

## å¸¸è§é—®é¢˜

### æ ‡ç­¾å’Œåˆ†æ”¯çš„åŒºåˆ«

| å¯¹æ¯”é¡¹ | æ ‡ç­¾ | åˆ†æ”¯ |
|-------|------|------|
| ç”¨é€” | æ ‡è®°ç‰ˆæœ¬ | å¼€å‘åŠŸèƒ½ |
| æ˜¯å¦ç§»åŠ¨ | å›ºå®šä¸å˜ | éšæäº¤ç§»åŠ¨ |
| å¯å¦æäº¤ | ä¸å¯ä»¥ | å¯ä»¥ |
| ç”Ÿå‘½å‘¨æœŸ | æ°¸ä¹…ä¿ç•™ | å¯ä»¥åˆ é™¤ |

### æ ‡ç­¾å‘½åè§„èŒƒ

```bash
# âœ… æ¨è
v1.0.0
v2.1.3
v1.0.0-beta.1
v2.0.0-rc.1

# âŒ ä¸æ¨è
1.0.0          # ç¼ºå°‘ v å‰ç¼€
release-1.0    # ä¸å¤Ÿæ ‡å‡†
version_1_0_0  # ä½¿ç”¨ä¸‹åˆ’çº¿
```

### è¯¯åˆ æ ‡ç­¾æ€ä¹ˆåŠ

```bash
# å¦‚æœè¿œç¨‹è¿˜æœ‰ï¼Œé‡æ–°æ‹‰å–
git fetch origin tag v1.0.0

# å¦‚æœè¿œç¨‹ä¹Ÿåˆ äº†ï¼Œä½†çŸ¥é“æäº¤å“ˆå¸Œ
git tag v1.0.0 abc1234

# æŸ¥æ‰¾æ ‡ç­¾çš„å†å²ï¼ˆå¦‚æœè¿˜åœ¨ reflog ä¸­ï¼‰
git reflog --all | grep v1.0.0
```

## æœ€ä½³å®è·µ

1. **ä½¿ç”¨é™„æ³¨æ ‡ç­¾**
   ```bash
   # âœ… æ¨è
   git tag -a v1.0.0 -m "Release v1.0.0"

   # âŒ ä¸æ¨è
   git tag v1.0.0
   ```

2. **éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬**
   ```bash
   v1.0.0  # MAJOR.MINOR.PATCH
   ```

3. **æ ‡ç­¾è¯´æ˜æ¸…æ™°**
   ```bash
   git tag -a v1.2.0 -m "Release v1.2.0

   Features:
   - New user dashboard
   - Email notifications

   Bug Fixes:
   - Fix login timeout
   - Fix data export"
   ```

4. **é…ç½®è‡ªåŠ¨æ¨é€æ ‡ç­¾**
   ```bash
   git config --global push.followTags true
   ```

5. **ä¿æŠ¤é‡è¦æ ‡ç­¾**
   - åœ¨ GitHub/GitLab è®¾ç½®ä¸­ä¿æŠ¤æ ‡ç­¾
   - é˜²æ­¢è¯¯åˆ é™¤æˆ–è¦†ç›–

6. **å®šæœŸæ¸…ç†æ— ç”¨æ ‡ç­¾**
   ```bash
   # åˆ é™¤æœ¬åœ°ä¸å­˜åœ¨äºè¿œç¨‹çš„æ ‡ç­¾
   git fetch --prune origin "+refs/tags/*:refs/tags/*"
   ```

## å‘½ä»¤é€ŸæŸ¥

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `git tag` | åˆ—å‡ºæ‰€æœ‰æ ‡ç­¾ |
| `git tag <name>` | åˆ›å»ºè½»é‡æ ‡ç­¾ |
| `git tag -a <name> -m "msg"` | åˆ›å»ºé™„æ³¨æ ‡ç­¾ |
| `git tag -a <name> <commit>` | ä¸ºå†å²æäº¤åˆ›å»ºæ ‡ç­¾ |
| `git tag -d <name>` | åˆ é™¤æœ¬åœ°æ ‡ç­¾ |
| `git tag -l "v1.*"` | è¿‡æ»¤æ ‡ç­¾åˆ—è¡¨ |
| `git show <tag>` | æŸ¥çœ‹æ ‡ç­¾è¯¦æƒ… |
| `git push origin <tag>` | æ¨é€æ ‡ç­¾ |
| `git push origin --tags` | æ¨é€æ‰€æœ‰æ ‡ç­¾ |
| `git push --delete origin <tag>` | åˆ é™¤è¿œç¨‹æ ‡ç­¾ |
| `git checkout <tag>` | æ£€å‡ºæ ‡ç­¾ï¼ˆåˆ†ç¦» HEADï¼‰ |
| `git checkout -b <branch> <tag>` | åŸºäºæ ‡ç­¾åˆ›å»ºåˆ†æ”¯ |

## ä¸‹ä¸€æ­¥

æŒæ¡äº†æ ‡ç­¾ç®¡ç†åï¼Œæ¥ä¸‹æ¥å­¦ä¹ å¦‚ä½•ä½¿ç”¨ Git Stash ä¸´æ—¶ä¿å­˜å·¥ä½œè¿›åº¦ã€‚

ä¸‹ä¸€èŠ‚ï¼š[å‚¨è—æ›´æ”¹](../stash/) â†’

---

## ğŸ’¡ ç»ƒä¹ é¢˜

å®Œæˆä»¥ä¸‹ç»ƒä¹ ï¼Œå·©å›ºæ‰€å­¦çŸ¥è¯†ï¼š

{{< expand "ç»ƒä¹  1ï¼šåˆ›å»ºå’Œç®¡ç†æ ‡ç­¾" >}}
**ä»»åŠ¡**ï¼š
1. åœ¨ä½ çš„ç»ƒä¹ ä»“åº“åˆ›å»ºå‡ æ¬¡æäº¤
2. ä¸ºæœ€æ–°æäº¤åˆ›å»ºé™„æ³¨æ ‡ç­¾ `v1.0.0`
3. ä¸ºå‰ä¸€ä¸ªæäº¤åˆ›å»ºè½»é‡æ ‡ç­¾ `beta`
4. æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾
5. æŸ¥çœ‹ `v1.0.0` çš„è¯¦ç»†ä¿¡æ¯

{{< expand "æŸ¥çœ‹ç­”æ¡ˆ" >}}
```bash
# 1. åˆ›å»ºæäº¤
echo "Feature 1" > feature1.txt
git add feature1.txt
git commit -m "Add feature 1"

echo "Feature 2" > feature2.txt
git add feature2.txt
git commit -m "Add feature 2"

# 2. åˆ›å»ºé™„æ³¨æ ‡ç­¾
git tag -a v1.0.0 -m "Release version 1.0.0"

# 3. ä¸ºå‰ä¸€ä¸ªæäº¤åˆ›å»ºè½»é‡æ ‡ç­¾
git tag beta HEAD~1

# 4. æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾
git tag
# è¾“å‡ºï¼š
# beta
# v1.0.0

# 5. æŸ¥çœ‹æ ‡ç­¾è¯¦æƒ…
git show v1.0.0
```
{{< /expand >}}
{{< /expand >}}

{{< expand "ç»ƒä¹  2ï¼šç‰ˆæœ¬å‘å¸ƒæµç¨‹" >}}
**ä»»åŠ¡**ï¼šæ¨¡æ‹Ÿä¸€ä¸ªå®Œæ•´çš„ç‰ˆæœ¬å‘å¸ƒæµç¨‹

1. åˆ›å»ºä¸€ä¸ªæ–°åŠŸèƒ½å¹¶æäº¤
2. åˆ›å»ºé™„æ³¨æ ‡ç­¾ `v1.1.0`ï¼ŒåŒ…å«å®Œæ•´çš„å‘å¸ƒè¯´æ˜
3. æŸ¥çœ‹ä» `v1.0.0` åˆ° `v1.1.0` çš„æ‰€æœ‰å˜æ›´
4. æ¨¡æ‹Ÿæ¨é€æ ‡ç­¾ï¼ˆä½¿ç”¨ `echo` æ˜¾ç¤ºå‘½ä»¤ï¼‰

{{< expand "æŸ¥çœ‹ç­”æ¡ˆ" >}}
```bash
# 1. åˆ›å»ºæ–°åŠŸèƒ½
echo "New Feature" > new-feature.txt
git add new-feature.txt
git commit -m "feat: add new awesome feature"

# 2. åˆ›å»ºé™„æ³¨æ ‡ç­¾
git tag -a v1.1.0 -m "Release version 1.1.0

New Features:
- Add awesome new feature

Improvements:
- Performance optimization

Bug Fixes:
- Fix minor issues"

# 3. æŸ¥çœ‹å˜æ›´
git log v1.0.0..v1.1.0 --oneline

# 4. æ¨¡æ‹Ÿæ¨é€
echo "git push origin main"
echo "git push origin v1.1.0"
```
{{< /expand >}}
{{< /expand >}}

{{< expand "ç»ƒä¹  3ï¼šåŸºäºæ ‡ç­¾åˆ›å»ºçƒ­ä¿®å¤" >}}
**ä»»åŠ¡**ï¼š
1. åŸºäº `v1.0.0` åˆ›å»ºçƒ­ä¿®å¤åˆ†æ”¯
2. ä¿®å¤ä¸€ä¸ª bug
3. åˆ›å»ºæ–°æ ‡ç­¾ `v1.0.1`
4. åˆ‡æ¢å› main åˆ†æ”¯

{{< expand "æŸ¥çœ‹ç­”æ¡ˆ" >}}
```bash
# 1. åŸºäºæ ‡ç­¾åˆ›å»ºåˆ†æ”¯
git checkout -b hotfix-1.0.1 v1.0.0

# 2. ä¿®å¤ bug
echo "Bug fixed" >> feature1.txt
git add feature1.txt
git commit -m "fix: critical bug in feature 1"

# 3. åˆ›å»ºæ–°æ ‡ç­¾
git tag -a v1.0.1 -m "Hotfix release v1.0.1

Bug Fixes:
- Fix critical bug in feature 1"

# 4. åˆ‡å› main
git checkout main

# 5. æŸ¥çœ‹æ ‡ç­¾
git tag
# è¾“å‡ºï¼š
# beta
# v1.0.0
# v1.0.1
# v1.1.0
```
{{< /expand >}}
{{< /expand >}}

{{< expand "ç»ƒä¹  4ï¼šæ ‡ç­¾çš„æ¨é€å’Œåˆ é™¤" >}}
**æ€è€ƒé¢˜**ï¼š

A. `git push` ä¼šè‡ªåŠ¨æ¨é€æ ‡ç­¾å—ï¼Ÿ
B. å¦‚ä½•åªæ¨é€é™„æ³¨æ ‡ç­¾è€Œä¸æ¨é€è½»é‡æ ‡ç­¾ï¼Ÿ
C. åˆ é™¤è¿œç¨‹æ ‡ç­¾åï¼Œå…¶ä»–äººçš„æœ¬åœ°æ ‡ç­¾ä¼šè‡ªåŠ¨åˆ é™¤å—ï¼Ÿ

{{< expand "æŸ¥çœ‹ç­”æ¡ˆ" >}}
**ç­”æ¡ˆ**ï¼š

A. **ä¸ä¼š**ã€‚`git push` é»˜è®¤ä¸æ¨é€æ ‡ç­¾ï¼Œéœ€è¦æ˜¾å¼æ¨é€ï¼š
```bash
git push origin v1.0.0        # æ¨é€å•ä¸ªæ ‡ç­¾
git push origin --tags        # æ¨é€æ‰€æœ‰æ ‡ç­¾
```

B. ä½¿ç”¨ `--follow-tags` é€‰é¡¹ï¼š
```bash
git push origin --follow-tags
# æˆ–è®¾ç½®ä¸ºé»˜è®¤è¡Œä¸º
git config --global push.followTags true
```

C. **ä¸ä¼š**ã€‚åˆ é™¤è¿œç¨‹æ ‡ç­¾ä¸å½±å“å…¶ä»–äººçš„æœ¬åœ°æ ‡ç­¾ã€‚å…¶ä»–äººéœ€è¦æ‰‹åŠ¨åˆ é™¤ï¼š
```bash
# æŸ¥çœ‹è¿œç¨‹å·²åˆ é™¤çš„æ ‡ç­¾
git fetch --prune origin "+refs/tags/*:refs/tags/*"
```
{{< /expand >}}
{{< /expand >}}

---

{{< hint success >}}
**æ£€æŸ¥æ¸…å•** - å®Œæˆæœ¬èŠ‚åï¼Œä½ åº”è¯¥èƒ½å¤Ÿï¼š

- [ ] ç†è§£æ ‡ç­¾çš„ä½œç”¨å’Œä½¿ç”¨åœºæ™¯
- [ ] åŒºåˆ†è½»é‡æ ‡ç­¾å’Œé™„æ³¨æ ‡ç­¾
- [ ] åˆ›å»ºã€æŸ¥çœ‹ã€åˆ é™¤æ ‡ç­¾
- [ ] æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“
- [ ] åŸºäºæ ‡ç­¾åˆ›å»ºåˆ†æ”¯
- [ ] éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ
- [ ] å®æ–½å®Œæ•´çš„ç‰ˆæœ¬å‘å¸ƒæµç¨‹
{{< /hint >}}
