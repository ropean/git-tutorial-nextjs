---
title: "æŸ¥çœ‹å†å²è®°å½• - git log"
description: "æŒæ¡ git log å‘½ä»¤çš„å„ç§ç”¨æ³•ï¼Œå­¦ä¹ å¦‚ä½•æŸ¥çœ‹å’Œåˆ†æé¡¹ç›®çš„æäº¤å†å²"
category: "beginner"
level: "å…¥é—¨"
duration: "18 åˆ†é’Ÿ"
tags: ["å†å²", "æ—¥å¿—", "æŸ¥è¯¢"]
date: "2024-01-06"
---

## ç®€ä»‹

`git log` æ˜¯æŸ¥çœ‹é¡¹ç›®å†å²çš„ä¸»è¦å‘½ä»¤ã€‚é€šè¿‡å®ƒï¼Œä½ å¯ä»¥çœ‹åˆ°è°åœ¨ä»€ä¹ˆæ—¶å€™åšäº†ä»€ä¹ˆä¿®æ”¹ã€‚

æŒæ¡ `git log` çš„å„ç§ç”¨æ³•ï¼Œèƒ½å¸®åŠ©ä½ ï¼š
- ğŸ“œ è¿½è¸ªä»£ç çš„æ¼”å˜è¿‡ç¨‹
- ğŸ” æ‰¾åˆ°å¼•å…¥ bug çš„æäº¤
- ğŸ‘¥ äº†è§£å›¢é˜Ÿæˆå‘˜çš„å·¥ä½œ
- â° æŸ¥çœ‹é¡¹ç›®æ—¶é—´çº¿

## åŸºæœ¬ç”¨æ³•

### æŸ¥çœ‹å®Œæ•´å†å²

```bash
git log
```

è¾“å‡ºï¼š

```bash
commit f3a2b1c9d8e7f6g5h4i3j2k1 (HEAD -> main)
Author: Zhang San <zhangsan@example.com>
Date:   Mon Jan 8 14:30:00 2024 +0800

    æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½

commit e2d1c0b9a8f7g6h5i4j3k2l1
Author: Li Si <lisi@example.com>
Date:   Mon Jan 8 10:15:00 2024 +0800

    ä¿®å¤é¦–é¡µæ ·å¼é—®é¢˜
```

**ä¿¡æ¯è§£è¯»**:
- `commit ...`: æäº¤çš„å”¯ä¸€ SHA-1 æ ‡è¯†
- `Author`: ä½œè€…å§“åå’Œé‚®ç®±
- `Date`: æäº¤æ—¥æœŸå’Œæ—¶é—´
- æœ€åæ˜¯æäº¤ä¿¡æ¯

### é€€å‡ºæ—¥å¿—æŸ¥çœ‹

- æŒ‰ `q` é”®é€€å‡º
- æˆ–ä½¿ç”¨ `ç©ºæ ¼` ç¿»é¡µ
- ä½¿ç”¨ `æ–¹å‘é”®` æ»šåŠ¨

## ç®€æ´æ ¼å¼

### å•è¡Œæ˜¾ç¤º

```bash
git log --oneline
```

è¾“å‡ºï¼š

```bash
f3a2b1c æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½
e2d1c0b ä¿®å¤é¦–é¡µæ ·å¼é—®é¢˜
d1c0b9a åˆ›å»ºå¯¼èˆªæ ç»„ä»¶
c0b9a8f åˆå§‹åŒ–é¡¹ç›®
```

æ¯ä¸ªæäº¤åªæ˜¾ç¤ºï¼š
- ç®€çŸ­çš„æäº¤ IDï¼ˆå‰ 7 ä½ï¼‰
- æäº¤ä¿¡æ¯

### é™åˆ¶æ˜¾ç¤ºæ•°é‡

```bash
# åªæ˜¾ç¤ºæœ€è¿‘ 5 æ¡
git log -5

# æˆ–
git log -n 5

# ç»“åˆ oneline
git log --oneline -10
```

## æŸ¥çœ‹è¯¦ç»†ä¿®æ”¹

### æ˜¾ç¤ºæ¯æ¬¡æäº¤çš„å·®å¼‚

```bash
git log -p
```

æˆ–ï¼š

```bash
git log --patch
```

è¾“å‡ºä¼šåŒ…å«æ¯ä¸ªæ–‡ä»¶çš„å…·ä½“ä¿®æ”¹å†…å®¹ï¼ˆç±»ä¼¼ `git diff`ï¼‰ã€‚

### åªçœ‹æŸä¸ªæ–‡ä»¶çš„å†å²

```bash
git log -p README.md
```

è¿™ä¼šæ˜¾ç¤º README.md æ–‡ä»¶çš„æ‰€æœ‰ä¿®æ”¹å†å²ã€‚

### æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯

```bash
git log --stat
```

è¾“å‡ºï¼š

```bash
commit f3a2b1c9...
Author: Zhang San
Date:   Mon Jan 8 14:30:00 2024

    æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½

 src/auth.js    | 45 +++++++++++++++++++++++++++++++++
 src/login.js   | 32 ++++++++++++++++++++++++
 README.md      |  2 +-
 3 files changed, 78 insertions(+), 1 deletion(-)
```

æ˜¾ç¤ºæ¯ä¸ªæ–‡ä»¶ä¿®æ”¹äº†å¤šå°‘è¡Œã€‚

## æ ¼å¼åŒ–è¾“å‡º

### è‡ªå®šä¹‰æ ¼å¼

```bash
git log --pretty=format:"%h - %an, %ar : %s"
```

è¾“å‡ºï¼š

```bash
f3a2b1c - Zhang San, 2 hours ago : æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½
e2d1c0b - Li Si, 5 hours ago : ä¿®å¤é¦–é¡µæ ·å¼é—®é¢˜
```

**å¸¸ç”¨å ä½ç¬¦**:

| å ä½ç¬¦ | è¯´æ˜ |
|--------|------|
| `%H` | å®Œæ•´çš„æäº¤å“ˆå¸Œ |
| `%h` | ç®€çŸ­çš„æäº¤å“ˆå¸Œ |
| `%an` | ä½œè€…åå­— |
| `%ae` | ä½œè€…é‚®ç®± |
| `%ad` | ä½œè€…ä¿®æ”¹æ—¥æœŸ |
| `%ar` | ä½œè€…ä¿®æ”¹æ—¥æœŸï¼ˆç›¸å¯¹æ—¶é—´ï¼‰|
| `%cn` | æäº¤è€…åå­— |
| `%s` | æäº¤ä¿¡æ¯ |
| `%b` | æäº¤æ­£æ–‡ |

### æ›´å¤šé¢„å®šä¹‰æ ¼å¼

```bash
# çŸ­æ ¼å¼
git log --pretty=short

# å®Œæ•´æ ¼å¼
git log --pretty=full

# æ›´å®Œæ•´
git log --pretty=fuller
```

## å›¾å½¢åŒ–æ˜¾ç¤ºåˆ†æ”¯

### æ˜¾ç¤ºåˆ†æ”¯å›¾

```bash
git log --graph
```

è¾“å‡ºï¼š

```bash
* commit f3a2b1c
| Author: Zhang San
| Date:   Mon Jan 8
|
|     æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½
|
* commit e2d1c0b
| Author: Li Si
|
|     ä¿®å¤é¦–é¡µæ ·å¼é—®é¢˜
```

### ç»“åˆ oneline

```bash
git log --graph --oneline --all
```

è¾“å‡ºï¼š

```bash
* f3a2b1c (HEAD -> main) æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½
* e2d1c0b ä¿®å¤é¦–é¡µæ ·å¼é—®é¢˜
| * d1c0b9a (feature/new-ui) æ›´æ–° UI è®¾è®¡
|/
* c0b9a8f åˆå§‹åŒ–é¡¹ç›®
```

è¿™æ˜¯æŸ¥çœ‹åˆ†æ”¯å†å²æœ€ç›´è§‚çš„æ–¹å¼ï¼

## è¿‡æ»¤æäº¤

### æŒ‰æ—¶é—´è¿‡æ»¤

#### æœ€è¿‘ n å¤©

```bash
# æœ€è¿‘ 7 å¤©
git log --since=7.days

# æˆ–
git log --since="1 week ago"
```

#### æŒ‡å®šæ—¥æœŸèŒƒå›´

```bash
# æŸå¤©ä¹‹å
git log --since="2024-01-01"

# æŸå¤©ä¹‹å‰
git log --until="2024-01-31"

# æ—¥æœŸèŒƒå›´
git log --since="2024-01-01" --until="2024-01-31"
```

#### ç›¸å¯¹æ—¶é—´

```bash
# æœ€è¿‘ 2 å°æ—¶
git log --since="2 hours ago"

# æœ€è¿‘ 3 å‘¨
git log --since="3 weeks ago"

# æ˜¨å¤©
git log --since=yesterday
```

### æŒ‰ä½œè€…è¿‡æ»¤

```bash
# æŸä¸ªä½œè€…çš„æäº¤
git log --author="Zhang San"

# å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼
git log --author="Zhang\|Li"
```

### æŒ‰æäº¤ä¿¡æ¯è¿‡æ»¤

```bash
# åŒ…å«ç‰¹å®šå…³é”®è¯
git log --grep="ä¿®å¤"

# æ­£åˆ™è¡¨è¾¾å¼
git log --grep="bug.*fix" --regexp-ignore-case
```

### æŒ‰æ–‡ä»¶è¿‡æ»¤

```bash
# æŸä¸ªæ–‡ä»¶çš„å†å²
git log -- README.md

# å¤šä¸ªæ–‡ä»¶
git log -- src/ docs/

# æŸä¸ªç›®å½•
git log -- src/components/
```

### æŒ‰ä¿®æ”¹å†…å®¹è¿‡æ»¤

```bash
# æŸ¥æ‰¾æ·»åŠ æˆ–åˆ é™¤äº†ç‰¹å®šå­—ç¬¦ä¸²çš„æäº¤
git log -S "function login"

# æˆ–ä½¿ç”¨æ­£åˆ™
git log -G "login.*function"
```

è¿™å¯¹æ‰¾åˆ°å¼•å…¥æˆ–åˆ é™¤æŸæ®µä»£ç çš„æäº¤å¾ˆæœ‰ç”¨ï¼

## æŸ¥çœ‹ç‰¹å®šæäº¤

### æŸ¥çœ‹æŸä¸ªæäº¤çš„è¯¦æƒ…

```bash
git show f3a2b1c
```

æ˜¾ç¤ºè¯¥æäº¤çš„å®Œæ•´ä¿¡æ¯å’Œä¿®æ”¹å†…å®¹ã€‚

### æŸ¥çœ‹æŸä¸ªæäº¤çš„æŸä¸ªæ–‡ä»¶

```bash
git show f3a2b1c:src/auth.js
```

## æ¯”è¾ƒå·®å¼‚

### ä¸¤ä¸ªæäº¤ä¹‹é—´çš„å·®å¼‚

```bash
git log main..feature
```

æ˜¾ç¤º feature åˆ†æ”¯æœ‰ä½† main åˆ†æ”¯æ²¡æœ‰çš„æäº¤ã€‚

### æŸ¥çœ‹æœªæ¨é€çš„æäº¤

```bash
git log origin/main..main
```

æ˜¾ç¤ºæœ¬åœ°æœ‰ä½†è¿œç¨‹æ²¡æœ‰çš„æäº¤ï¼ˆè¿˜æ²¡æ¨é€çš„ï¼‰ã€‚

## å®ç”¨åˆ«å

### åˆ›å»ºç¾åŒ–çš„ log åˆ«å

```bash
git config --global alias.lg "log --graph --oneline --decorate --all"
```

ç°åœ¨å¯ä»¥ä½¿ç”¨ï¼š

```bash
git lg
```

### æ›´å¤šæœ‰ç”¨çš„åˆ«å

```bash
# è¯¦ç»†æ—¥å¿—
git config --global alias.ll "log --graph --pretty=format:'%C(yellow)%h%C(reset) - %C(blue)%an%C(reset), %C(green)%ar%C(reset) : %s'"

# æŸ¥çœ‹æœ€è¿‘ 10 æ¡
git config --global alias.l10 "log --oneline -10"

# æŸ¥çœ‹ä»Šå¤©çš„æäº¤
git config --global alias.today "log --since=midnight --author='$(git config user.name)' --oneline"
```

## å®æˆ˜æ¡ˆä¾‹

### æ¡ˆä¾‹ 1: æ‰¾åˆ°æŸä¸ªåŠŸèƒ½æ˜¯è°å†™çš„

```bash
# æŸ¥æ‰¾åŒ…å« "ç™»å½•" çš„æäº¤
git log --grep="ç™»å½•" --oneline

# æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
git show abc123
```

### æ¡ˆä¾‹ 2: æ‰¾åˆ°å¼•å…¥ bug çš„æäº¤

```bash
# æŸ¥æ‰¾ä¿®æ”¹äº† payment.js çš„æäº¤
git log --oneline -- src/payment.js

# æŸ¥çœ‹å…·ä½“ä¿®æ”¹
git log -p -- src/payment.js
```

### æ¡ˆä¾‹ 3: æŸ¥çœ‹æŸäººæœ¬å‘¨çš„å·¥ä½œ

```bash
git log --author="Zhang San" --since="1 week ago" --oneline
```

### æ¡ˆä¾‹ 4: å‡†å¤‡å‘¨æŠ¥

```bash
git log --author="$(git config user.name)" \
  --since="1 week ago" \
  --pretty=format:"%ad - %s" \
  --date=short
```

è¾“å‡ºï¼š

```
2024-01-08 - æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½
2024-01-07 - ä¿®å¤æ”¯ä»˜é¡µé¢ bug
2024-01-06 - ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢
```

### æ¡ˆä¾‹ 5: æŸ¥çœ‹æ–‡ä»¶é‡å‘½åå†å²

```bash
git log --follow --oneline -- newname.js
```

`--follow` å‚æ•°ä¼šè¿½è¸ªæ–‡ä»¶é‡å‘½åå‰çš„å†å²ã€‚

## é«˜çº§æŠ€å·§

### æŸ¥çœ‹åˆå¹¶æäº¤

```bash
# åªçœ‹åˆå¹¶æäº¤
git log --merges

# ä¸çœ‹åˆå¹¶æäº¤
git log --no-merges
```

### æŸ¥çœ‹åˆ†æ”¯ä¹‹é—´çš„å·®å¼‚

```bash
# A åˆ†æ”¯ç‹¬æœ‰çš„æäº¤
git log main..feature

# B åˆ†æ”¯ç‹¬æœ‰çš„æäº¤
git log feature..main

# ä¸¤ä¸ªåˆ†æ”¯çš„æ‰€æœ‰å·®å¼‚
git log main...feature
```

### æŸ¥çœ‹è°ä¿®æ”¹äº†æŸä¸€è¡Œ

```bash
git blame README.md
```

è¾“å‡ºï¼š

```bash
a1b2c3d (Zhang San 2024-01-01 10:00:00 +0800 1) # Project Title
b2c3d4e (Li Si     2024-01-02 11:00:00 +0800 2)
c3d4e5f (Wang Wu   2024-01-03 12:00:00 +0800 3) This is a demo project.
```

### ç»Ÿè®¡ä»£ç è´¡çŒ®

```bash
# æ¯ä¸ªä½œè€…çš„æäº¤æ¬¡æ•°
git shortlog -s -n

# æ¯ä¸ªä½œè€…çš„ä»£ç è¡Œæ•°
git log --author="Zhang San" --pretty=tformat: --numstat \
  | awk '{ add += $1; subs += $2; loc += $1 - $2 } END \
  { printf "added lines: %s, removed lines: %s, total lines: %s\n", add, subs, loc }'
```

## æ€§èƒ½ä¼˜åŒ–

### å¤§ä»“åº“ä¼˜åŒ–

```bash
# æµ…å…‹éš†ï¼ˆåªè¦æœ€è¿‘çš„å†å²ï¼‰
git log --since="3 months ago"

# åªçœ‹æ–‡ä»¶åï¼Œä¸çœ‹å†…å®¹
git log --name-only

# åªçœ‹çŠ¶æ€ï¼ˆæ–°å¢/ä¿®æ”¹/åˆ é™¤ï¼‰
git log --name-status
```

## å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•æ‰¾å›"ä¸¢å¤±"çš„æäº¤ï¼Ÿ

```bash
# æŸ¥çœ‹æ‰€æœ‰æ“ä½œå†å²ï¼ˆåŒ…æ‹¬å·²åˆ é™¤çš„ï¼‰
git reflog

# æ¢å¤æäº¤
git reset --hard abc123
```

### Q2: å†å²å¤ªé•¿ï¼Œå¦‚ä½•å¿«é€ŸæŸ¥æ‰¾ï¼Ÿ

```bash
# ä½¿ç”¨æœç´¢ï¼ˆæŒ‰ /ï¼‰
git log
# ç„¶åæŒ‰ / è¾“å…¥å…³é”®è¯

# æˆ–ç›´æ¥ç”¨ grep
git log --oneline | grep "å…³é”®è¯"
```

### Q3: å¦‚ä½•åªçœ‹æŸä¸ªåˆ†æ”¯çš„å†å²ï¼Ÿ

```bash
git log feature-branch
```

## å®ç”¨å‘½ä»¤ç»„åˆ

```bash
# æˆ‘æœ€å–œæ¬¢çš„ log å‘½ä»¤
git log --graph --oneline --decorate --all -20

# æŸ¥çœ‹æœ¬å‘¨æ‰€æœ‰äººçš„å·¥ä½œ
git log --since="1 week ago" --oneline --no-merges

# æŸ¥çœ‹å¾…å‘å¸ƒçš„å†…å®¹
git log origin/main..HEAD --oneline

# ç¾åŒ–è¾“å‡º
git log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset'
```

## å°ç»“

`git log` çš„æ ¸å¿ƒå‘½ä»¤ï¼š

- `git log` - æŸ¥çœ‹å†å²
- `git log --oneline` - ç®€æ´æ˜¾ç¤º
- `git log --graph` - å›¾å½¢åŒ–æ˜¾ç¤º
- `git log -p` - æŸ¥çœ‹ä¿®æ”¹å†…å®¹
- `git log --since/--until` - æ—¶é—´è¿‡æ»¤
- `git log --author` - ä½œè€…è¿‡æ»¤
- `git log --grep` - æ¶ˆæ¯è¿‡æ»¤
- `git log -- æ–‡ä»¶` - æ–‡ä»¶å†å²

è®°ä½ï¼š`git log` åªæ˜¯æŸ¥çœ‹å†å²ï¼Œä¸ä¼šä¿®æ”¹ä»»ä½•å†…å®¹ï¼Œæ”¾å¿ƒä½¿ç”¨ï¼

## ä¸‹ä¸€æ­¥

- [å­¦ä¹ æ’¤é”€æ“ä½œ](/tutorials/beginner/undo-changes)
- [ç†è§£ HEAD å’Œå¼•ç”¨](/tutorials/beginner/git-refs)
- [ä½¿ç”¨ git bisect å®šä½ bug](/tutorials/advanced/git-bisect)

ç»§ç»­æ¢ç´¢ Git çš„å¼ºå¤§åŠŸèƒ½ï¼ğŸš€
